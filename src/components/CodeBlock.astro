---
export interface Props {
  language?: string;
  title?: string;
  filename?: string;
  showLineNumbers?: boolean;
}

const { language = 'javascript', title, filename, showLineNumbers = true } = Astro.props;
---

<div class="code-block-container my-6">
  {(title || filename) && (
    <div class="code-header bg-neutral-800 dark:bg-neutral-900 text-white px-4 py-2 rounded-t-lg flex items-center justify-between">
      <div class="flex items-center gap-2">
        {filename && (
          <span class="text-sm font-mono text-neutral-300">{filename}</span>
        )}
        {title && !filename && (
          <span class="text-sm font-medium">{title}</span>
        )}
      </div>
      <div class="flex items-center gap-1">
        <div class="w-3 h-3 rounded-full bg-red-500"></div>
        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
        <div class="w-3 h-3 rounded-full bg-green-500"></div>
      </div>
    </div>
  )}
  <div class="code-content bg-neutral-900 dark:bg-neutral-950 text-neutral-100 p-4 rounded-b-lg overflow-x-auto">
    <pre class="text-sm leading-relaxed"><code class={`language-${language}`}><slot /></code></pre>
  </div>
</div>

<style>
  .code-block-container {
    font-family: 'Consolas', 'Monaco', 'Lucida Console', monospace;
  }
  
  .language-javascript .token.keyword {
    color: #ff79c6;
  }
  
  .language-javascript .token.string {
    color: #f1fa8c;
  }
  
  .language-javascript .token.number {
    color: #bd93f9;
  }
  
  .language-javascript .token.function {
    color: #50fa7b;
  }
  
  .language-javascript .token.comment {
    color: #6272a4;
    font-style: italic;
  }
  
  .language-json .token.property {
    color: #8be9fd;
  }
  
  .language-json .token.string {
    color: #f1fa8c;
  }
  
  .language-json .token.number {
    color: #bd93f9;
  }
  
  .language-json .token.boolean {
    color: #ff79c6;
  }
</style>
